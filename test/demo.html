<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Test-X.Class</title>
</head>
<body>
<script src="../src/X.core.js"></script>
<script src="../src/X.Class.js"></script>
<script>
    var Super = X.Class.create({
        constructor: function (prop1, prop2) {
            this.superProp1 = prop1
            this.superProp2 = prop2
        },
        fn1: function () {
            return this.superProp1
        },
        fn2: function () {
            return this.superProp2
        },
        each: function (arr, fn) {
            for (var i = 0; i < arr.length; ++i) {
                fn.call(arr, arr[i], i, arr)
            }
        },
        plus: function () {
            var sum = 0
            this.each(arguments, function (v) {
                sum += v
            })

            return sum
        }
    })

    var Sub1 = X.Class.create(Super, {
        constructor: function (prop1, prop2, prop3, prop4) {
            this.$$super(prop1, prop2)
            this.sub1Prop1 = prop3
            this.sub1Prop2 = prop4
        },
        fn1: function () {
            return this.plus(this.$$super(), this.sub1Prop1)
        },
        fn2: function () {
            return this.plus(this.$$super(), this.sub1Prop2)
        },
        minus: function () {
            var sum = 0
            this.each(arguments, function (v) {
                sum -= v
            })

            return sum
        }
    })

    var Sub2 = X.Class.create(Sub1, {
        constructor: function (prop1, prop2, prop3, prop4, prop5, prop6) {
            this.$$super(prop1, prop2, prop3, prop4)
            this.sub2Prop1 = prop5
            this.sub2Prop2 = prop6
        },
        fn1: function () {
            return this.plus(this.$$super(), this.sub2Prop1)
        },
        fn2: function () {
            return this.plus(this.$$super(), this.sub2Prop2)
        },
        multi: function () {
            var sum = 1
            this.each(arguments, function (v) {
                sum *= v
            })

            return sum
        }
    })

    window.sub1 = new Sub1(1,2,3,4)
    window.sub2 = new Sub2(1, 2, 3, 4, 5, 6)

    console.log(sub1.fn1() == (1 + 3))
    console.log(sub1.fn2() == (2 + 4))
    console.log(sub2.fn1() == (1 + 3 + 5))
    console.log(sub2.fn2() == (2 + 4 + 6))
</script>
</body>
</html>